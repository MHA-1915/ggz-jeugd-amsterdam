<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informatie - GGZ Jeugd Amsterdam</title>
    <link rel="stylesheet" href="GGZjeugdAmsterdam.css">
</head>
<body class="informatie-pagina">
    <header>
        <h1>GGZ Jeugd Amsterdam</h1>
    </header>

    <nav class="main-nav">
        <ul>
            <li><a href="informatie.html" class="active">Informatie</a></li>
            <li><a href="kaart.html">Zorgkaart</a></li>
            <li><a href="overzicht.html">Volledig Overzicht</a></li>
        </ul>
    </nav>

    <!-- Waarschuwingsbanner -->
    <div class="warning-banner">
        <div class="warning-content">
            <strong>Let op:</strong> Deze website is nog in ontwikkeling. De getoonde informatie kan onvolledig, onjuist of niet passend zijn voor uw situatie. Er kunnen geen rechten worden ontleend aan de inhoud van deze website. Raadpleeg altijd een zorgprofessional voor advies.
        </div>
    </div>

    <div class="container">
        <!-- Introductie (volledige breedte) -->
        <section class="info-section full-width">
            <h2>Over GGZ Jeugd Amsterdam</h2>
            <p class="intro-text">
                Welkom bij GGZ Jeugd Amsterdam. Deze website helpt u bij het vinden van de juiste jeugd-GGZ zorg in Amsterdam. 
                We bieden twee manieren om zorginstellingen te vinden: via een interactieve kaart of een volledig overzicht.
            </p>
        </section>

        <!-- Twee-kolommen sectie -->
        <div class="columns">
            <!-- Linker kolom -->
            <div class="column">
                <section class="info-section">
                    <h2>Sociale Wijkteams Jeugd en Basishulp</h2>
                    <p>
                        Sinds 1 januari 2015 zijn er 'sociale wijkteams' (ook wel 'wijkteam', 'jeugdteam', 'jeugd en gezinsteam', 
                        'basisteam' of 'toegangsteam' genaamd) in de gemeenten. Deze teams bestaan uit beroepskrachten van verschillende 
                        organisaties, die allen als generalist werken volgens het principe van 'één gezin, één plan: coördinatie van zorg'.
                    </p>
                </section>

                <section class="info-section">
                    <h2>Ouder- en Kindteams Amsterdam</h2>
                    <p>
                        Het OKT (Ouder- en Kindteams) in Amsterdam zijn er voor alle kinderen, jongeren en ouders in Amsterdam. 
                        Zij bieden laagdrempelige jeugdhulp en jeugdgezondheidszorg. De teams bestaan uit:
                    </p>
                    <ul>
                        <li>Ouder- en kindadviseurs</li>
                        <li>Jeugdartsen</li>
                        <li>Jeugdpsychologen</li>
                        <li>GZ-psychologen/orthopedagoog-generalisten</li>
                        <li>Jeugdverpleegkundigen</li>
                    </ul>
                </section>

                <section class="info-section">
                    <h2>De Zorgkaart</h2>
                    <div class="feature-description">
                        <h3>Wat kunt u vinden op de zorgkaart?</h3>
                        <ul>
                            <li>Alle GGZ-zorginstellingen en Ouder- en Kindteams op een interactieve kaart</li>
                            <li>Kleurcodering voor verschillende type zorginstellingen</li>
                            <li>Gedetailleerde informatie per instelling (klik op een marker)</li>
                            <li>Zoekfunctie op type zorg, leeftijd en locatie</li>
                        </ul>
                    </div>
                </section>
            </div>

            <!-- Rechter kolom -->
            <div class="column">
                <!-- Triage Tool in de rechterkolom -->
                <section class="info-section" id="triage-section">
                    <h2>Triage Tool</h2>
                    <p class="intro-text">
                        Deze tool helpt u bepalen welk type zorg het meest geschikt kan zijn voor uw situatie. 
                        Beantwoord onderstaande vragen zo nauwkeurig mogelijk.
                    </p>

                    <div class="triage-tool">
                        <form id="triage-form">
                            <div class="triage-question" data-step="1" style="display: block;">
                                <h3>1. Is er sprake van een crisissituatie?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="crisis-check" value="ja"><span>Ja, er is sprake van een crisissituatie</span></label>
                                    <label class="option-label"><input type="radio" name="crisis-check" value="nee"><span>Nee, er is geen sprake van een crisissituatie</span></label>
                                </div>
                                <button type="button" class="triage-next-button" data-next="2">Volgende</button>
                            </div>

                            <div class="triage-question" data-step="2" style="display: none;">
                                <h3>2. Is er sprake van een levensbedreigende situatie?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="levensbedreigend" value="ja"><span>Ja, bel direct 112</span></label>
                                    <label class="option-label"><input type="radio" name="levensbedreigend" value="nee"><span>Nee</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="1">Vorige</button>
                                    <button type="button" class="triage-next-button" data-next="3">Volgende</button>
                                </div>
                            </div>

                            <div class="triage-question" data-step="3" style="display: none;">
                                <h3>3. Is het kind/de jongere momenteel in behandeling?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="in-behandeling" value="ja"><span>Ja, jongere is momenteel in behandeling bij GGZ instelling</span></label>
                                    <label class="option-label"><input type="radio" name="in-behandeling" value="nee"><span>Nee, jongere is momenteel nog niet onder behandeling</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="2">Vorige</button>
                                    <button type="button" class="triage-next-button" data-next="4">Volgende</button>
                                </div>
                            </div>

                            <div class="triage-question" data-step="4" style="display: none;">
                                <h3>4. Wat is de leeftijd van het kind/de jongere?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="leeftijd" value="0-4"><span>0-4 jaar</span></label>
                                    <label class="option-label"><input type="radio" name="leeftijd" value="4-12"><span>4-12 jaar</span></label>
                                    <label class="option-label"><input type="radio" name="leeftijd" value="12-18"><span>12-18 jaar</span></label>
                                    <label class="option-label"><input type="radio" name="leeftijd" value="18-23"><span>18-23 jaar</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="3">Vorige</button>
                                    <button type="button" class="triage-next-button" data-next="5">Volgende</button>
                                </div>
                            </div>

                            <div class="triage-question" data-step="5" style="display: none;">
                                <h3>5. Hoe lang bestaan de klachten al?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="duur" value="kort"><span>Korter dan 3 maanden</span></label>
                                    <label class="option-label"><input type="radio" name="duur" value="middel"><span>3-6 maanden</span></label>
                                    <label class="option-label"><input type="radio" name="duur" value="lang"><span>Langer dan 6 maanden</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="4">Vorige</button>
                                    <button type="button" class="triage-next-button" data-next="6">Volgende</button>
                                </div>
                            </div>

                            <div class="triage-question" data-step="6" style="display: none;">
                                <h3>6. Hoe ernstig zijn de klachten?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="ernst" value="licht"><span>Licht (beperkte invloed op functioneren)</span></label>
                                    <label class="option-label"><input type="radio" name="ernst" value="matig"><span>Matig (merkbare invloed op functioneren)</span></label>
                                    <label class="option-label"><input type="radio" name="ernst" value="ernstig"><span>Ernstig (sterke invloed op functioneren)</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="5">Vorige</button>
                                    <button type="button" class="triage-next-button" data-next="7">Volgende</button>
                                </div>
                            </div>

                            <div class="triage-question" data-step="7" style="display: none;">
                                <h3>7. Selecteer de relevante problematiek (meerdere opties mogelijk)</h3>
                                <div class="triage-options checkbox-options">
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="angst"><span>Angst</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="depressie"><span>Somberheid/Depressie</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="gedrag"><span>Gedragsproblemen</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="trauma"><span>Trauma</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="adhd"><span>Concentratieproblemen/ADHD</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="autisme"><span>Autisme</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="verslaving"><span>Verslaving</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="ontwikkeling"><span>Ontwikkelingsproblemen</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="opvoeding"><span>Opvoedingsvragen</span></label>
                                    <label class="option-label"><input type="checkbox" name="problematiek" value="gezin"><span>Gezinsproblematiek</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="6">Vorige</button>
                                    <button type="button" class="triage-next-button" data-next="8">Volgende</button>
                                </div>
                            </div>

                            <div class="triage-question" data-step="8" style="display: none;">
                                <h3>8. Is er eerder hulp gezocht voor deze problematiek?</h3>
                                <div class="triage-options">
                                    <label class="option-label"><input type="radio" name="eerdere-hulp" value="nee"><span>Nee, dit is de eerste keer</span></label>
                                    <label class="option-label"><input type="radio" name="eerdere-hulp" value="huisarts"><span>Ja, bij de huisarts</span></label>
                                    <label class="option-label"><input type="radio" name="eerdere-hulp" value="okt"><span>Ja, bij het Ouder- en Kindteam</span></label>
                                    <label class="option-label"><input type="radio" name="eerdere-hulp" value="ggz"><span>Ja, bij een GGZ-instelling</span></label>
                                </div>
                                <div class="navigation-buttons">
                                    <button type="button" class="triage-prev-button" data-prev="7">Vorige</button>
                                    <button type="button" id="triage-submit" class="triage-button">Bekijk Advies</button>
                                </div>
                            </div>
                        </form>

                        <div id="triage-result" class="triage-result" style="display: none;">
                            <h3>Advies</h3>
                            <div id="triage-advice"></div>
                            <div id="triage-zorgtype" class="triage-zorgtype"></div>
                            <p class="disclaimer">Dit is een indicatie. Raadpleeg altijd uw huisarts of het Ouder- en Kindteam voor een definitief advies.</p>
                            <button type="button" id="show-instellingen" class="triage-button">Toon bijpassende instellingen</button>
                            <button type="button" id="reset-triage" class="triage-button secondary">Reset</button>
                        </div>
                    </div>
                </section>

                <section class="info-section">
                    <h2>Zorgstructuur in Amsterdam</h2>
                    <div class="zorg-type">
                        <h3>Basis GGZ</h3>
                        <p>
                            In de eerste lijn verleent onder meer de huisarts zorg, het maatschappelijk werk en de eerstelijnspsychologen 
                            basis ggz. Deze eerstelijnszorg is generalistisch, snel en gemakkelijk toegankelijk.
                        </p>
                    </div>

                    <div class="zorg-type">
                        <h3>Specialistische Jeugdhulp</h3>
                        <p>
                            Als een huisarts, jeugdarts, medisch specialist of professional van het Ouder- en Kindteam specifiekere 
                            jeugdexpertise nodig acht, kunnen zij doorverwijzen naar gespecialiseerde zorg.
                        </p>
                    </div>

                    <div class="zorg-type">
                        <h3>Hoogspecialistische Zorg</h3>
                        <p>
                            Voor zeer complexe problematiek. Gespecialiseerde behandeling door multidisciplinaire teams met specifieke expertise.
                        </p>
                    </div>
                </section>

                <section class="info-section">
                    <h2>Type Zorginstellingen</h2>
                    <div class="zorg-types">
                        <div class="zorg-type">
                            <h3><span class="marker-dot okt"></span>Ouder- en Kindteams (OKT)</h3>
                            <p>Laagdrempelige ondersteuning voor ouders en kinderen. Eerste aanspreekpunt voor vragen over opvoeding en ontwikkeling.</p>
                        </div>

                        <div class="zorg-type">
                            <h3><span class="marker-dot basis"></span>Basis GGZ</h3>
                            <p>Voor lichte tot matige psychische klachten. Kortdurende behandeling en begeleiding.</p>
                        </div>

                        <div class="zorg-type">
                            <h3><span class="marker-dot specialistisch"></span>Gespecialiseerde GGZ</h3>
                            <p>Voor complexere psychische problemen. Intensievere en langere behandeling.</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Contact sectie (volledige breedte) -->
        <section class="info-section full-width">
            <h2>Contact</h2>
            <p>Voor vragen over deze website of het melden van wijzigingen in de gegevens van zorginstellingen, neem contact op met:</p>
            <div class="contact-info">
                <p>Email: <a href="mailto:info@ggzjeugdamsterdam.nl">info@ggzjeugdamsterdam.nl</a></p>
                <p>Telefoon: <a href="tel:020-1234567">020-1234567</a></p>
            </div>
        </section>
    </div>

    <footer>
        <div>
            <div>
                <h3>Contact</h3>
                <p>Voor vragen over verwijzingen kunt u contact opnemen met het aanmeldpunt van de betreffende instelling.</p>
            </div>
            <div>
                <h3>Disclaimer</h3>
                <p>Deze website is bedoeld als hulpmiddel. Aan de informatie kunnen geen rechten worden ontleend.</p>
            </div>
        </div>
    </footer>

    <script src="GGZjeugdAmsterdam.js"></script>
    
    <script>
        // Triage Tool functionaliteit
        document.addEventListener('DOMContentLoaded', function() {
            const triageForm = document.getElementById('triage-form');
            const triageResult = document.getElementById('triage-result');
            const triageAdvice = document.getElementById('triage-advice');
            const triageZorgtype = document.getElementById('triage-zorgtype');
            const resetButton = document.getElementById('reset-triage');
            const showInstellingenButton = document.getElementById('show-instellingen');
            const triageSubmit = document.getElementById('triage-submit');
            const triageQuestions = document.querySelectorAll('.triage-question');
            const nextButtons = document.querySelectorAll('.triage-next-button');
            const prevButtons = document.querySelectorAll('.triage-prev-button');
            
            // Functie om geselecteerde labels te markeren
            function initSelectableLabels() {
                // Voeg event listeners toe voor alle radio buttons
                document.querySelectorAll('.triage-options input[type="radio"]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        // Verwijder selected class van alle labels in dezelfde groep
                        const name = this.getAttribute('name');
                        document.querySelectorAll(`.triage-options input[name="${name}"]`).forEach(input => {
                            input.closest('.option-label').classList.remove('selected');
                        });
                        
                        // Voeg selected class toe aan het geselecteerde label
                        if (this.checked) {
                            this.closest('.option-label').classList.add('selected');
                        }
                    });
                    
                    // Initiële status instellen
                    if (radio.checked) {
                        radio.closest('.option-label').classList.add('selected');
                    }
                });
                
                // Voeg event listeners toe voor alle checkboxes
                document.querySelectorAll('.triage-options input[type="checkbox"]').forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const label = this.closest('.option-label');
                        if (this.checked) {
                            label.classList.add('selected');
                        } else {
                            label.classList.remove('selected');
                        }
                    });
                    
                    // Initiële status instellen
                    if (checkbox.checked) {
                        checkbox.closest('.option-label').classList.add('selected');
                    }
                });
            }
            
            // Initialize selecteerbare labels
            initSelectableLabels();
            
            // Voeg event listeners toe aan de navigatieknoppen
            nextButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const currentStep = parseInt(this.closest('.triage-question').dataset.step);
                    const nextStep = parseInt(this.dataset.next);
                    
                    // Controleer of de huidige vraag is beantwoord
                    if (validateStep(currentStep)) {
                        // Verberg huidige vraag
                        document.querySelector(`.triage-question[data-step="${currentStep}"]`).style.display = 'none';
                        // Toon volgende vraag
                        document.querySelector(`.triage-question[data-step="${nextStep}"]`).style.display = 'block';
                    }
                });
            });
            
            prevButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const currentStep = parseInt(this.closest('.triage-question').dataset.step);
                    const prevStep = parseInt(this.dataset.prev);
                    
                    // Verberg huidige vraag
                    document.querySelector(`.triage-question[data-step="${currentStep}"]`).style.display = 'none';
                    // Toon vorige vraag
                    document.querySelector(`.triage-question[data-step="${prevStep}"]`).style.display = 'block';
                });
            });
            
            // Functie om te controleren of een stap is voltooid
            function validateStep(step) {
                switch(step) {
                    case 1:
                        // Controleer of er een keuze is gemaakt over de crisis
                        if (!document.querySelector('input[name="crisis-check"]:checked')) {
                            alert('Geef aan of er sprake is van een crisissituatie.');
                            return false;
                        }
                        return true;
                    case 2:
                        // Controleer of een levensbedreigende situatie is geselecteerd
                        if (!document.querySelector('input[name="levensbedreigend"]:checked')) {
                            alert('Geef aan of er sprake is van een levensbedreigende situatie.');
                            return false;
                        }
                        // Als levensbedreigende situatie = ja, toon direct advies
                        if (document.querySelector('input[name="levensbedreigend"]:checked').value === 'ja') {
                            toonDirectCrisisAdvies('112');
                            return false;
                        }
                        return true;
                    case 3:
                        // Controleer of behandeling is geselecteerd
                        if (!document.querySelector('input[name="in-behandeling"]:checked')) {
                            alert('Geef aan of er sprake is van een lopende behandeling.');
                            return false;
                        }
                        // Als in behandeling = ja/nee, toon direct advies
                        const inBehandeling = document.querySelector('input[name="in-behandeling"]:checked').value;
                        if (document.querySelector('input[name="crisis-check"]:checked').value === 'ja') {
                            if (inBehandeling === 'ja') {
                                toonDirectCrisisAdvies('behandelaar');
                                return false;
                            } else {
                                toonDirectCrisisAdvies('crisisdienst');
                                return false;
                            }
                        }
                        return true;
                    case 4:
                        // Controleer of een leeftijd is geselecteerd
                        if (!document.querySelector('input[name="leeftijd"]:checked')) {
                            alert('Selecteer een leeftijdscategorie.');
                            return false;
                        }
                        return true;
                    case 5:
                        // Controleer of een duur is geselecteerd
                        if (!document.querySelector('input[name="duur"]:checked')) {
                            alert('Selecteer hoe lang de klachten bestaan.');
                            return false;
                        }
                        return true;
                    case 6:
                        // Controleer of een ernst is geselecteerd
                        if (!document.querySelector('input[name="ernst"]:checked')) {
                            alert('Selecteer hoe ernstig de klachten zijn.');
                            return false;
                        }
                        return true;
                    case 7:
                        // Controleer of tenminste één problematiek is geselecteerd
                        if (document.querySelectorAll('input[name="problematiek"]:checked').length === 0) {
                            alert('Selecteer tenminste één vorm van problematiek.');
                            return false;
                        }
                        return true;
                    default:
                        return true;
                }
            }
            
            // Functie voor het tonen van direct crisisadvies
            function toonDirectCrisisAdvies(type) {
                let adviesTekst = '';
                let adviesTitel = '';
                
                switch(type) {
                    case '112':
                        adviesTitel = 'DIRECT 112 BELLEN';
                        adviesTekst = `
                            <p class="crisis-alert">U heeft aangegeven dat er sprake is van een levensbedreigende situatie.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <div class="crisis-action">
                                <p>Bel direct 112 voor acute hulp.</p>
                                <a href="tel:112" class="emergency-button">Bel 112</a>
                            </div>
                        `;
                        break;
                    case 'behandelaar':
                        adviesTitel = 'DIRECT BEHANDELAAR CONTACTEREN';
                        adviesTekst = `
                            <p class="crisis-alert">U heeft aangegeven dat er sprake is van een crisissituatie bij een jongere die momenteel in behandeling is bij een GGZ instelling.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <div class="crisis-action">
                                <p>Neem direct contact op met de behandelaar of de crisisdienst van de GGZ instelling waar de behandeling plaatsvindt. Zij kennen de jongere en kunnen daardoor een betere crisisbeoordeling verrichten en passende interventie toepassen.</p>
                            </div>
                        `;
                        break;
                    case 'crisisdienst':
                        adviesTitel = 'DIRECT CRISISDIENST BELLEN';
                        adviesTekst = `
                            <p class="crisis-alert">U heeft aangegeven dat er sprake is van een crisissituatie bij een jongere die momenteel niet in behandeling is.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <div class="crisis-action">
                                <p>Neem direct contact op met de crisisdienst Jeugd:</p>
                                <a href="tel:0205904040" class="emergency-button">Bel 020 590 4040</a>
                            </div>
                        `;
                        break;
                }
                
                // Voeg CSS voor crisisadvies toe
                const style = document.createElement('style');
                style.textContent = `
                    .crisis-alert {
                        background-color: #f44336;
                        color: white;
                        padding: 12px 15px;
                        border-radius: 5px;
                        font-weight: bold;
                        font-size: 16px;
                        margin-bottom: 15px;
                    }
                    
                    .crisis-action {
                        background-color: #ffebee;
                        border-left: 4px solid #f44336;
                        padding: 15px;
                        margin: 15px 0;
                        border-radius: 4px;
                    }
                    
                    .emergency-button {
                        display: inline-block;
                        background-color: #f44336;
                        color: white;
                        font-weight: bold;
                        padding: 12px 20px;
                        border-radius: 4px;
                        text-decoration: none;
                        margin-top: 10px;
                        transition: background-color 0.3s;
                    }
                    
                    .emergency-button:hover {
                        background-color: #d32f2f;
                        text-decoration: none;
                    }
                `;
                document.head.appendChild(style);
                
                // Toon het resultaat
                triageAdvice.innerHTML = adviesTekst;
                triageZorgtype.innerHTML = `<strong>Geadviseerd:</strong> ${adviesTitel}`;
                triageZorgtype.className = `triage-zorgtype crisis`;
                
                // Maak het resultaat zichtbaar
                triageResult.style.display = 'block';
                
                // Verberg alle vragen
                triageQuestions.forEach(question => {
                    question.style.display = 'none';
                });
                
                // Scroll naar het resultaat
                triageResult.scrollIntoView({ behavior: 'smooth' });
            }
            
            if (triageSubmit) {
                triageSubmit.addEventListener('click', function() {
                    // Controleer of alle vereiste velden zijn ingevuld
                    if (!document.querySelector('input[name="eerdere-hulp"]:checked')) {
                        alert('Geef aan of er eerder hulp is gezocht.');
                        return;
                    }
                    
                    // Controleer eerst of er sprake is van een crisis
                    const crisisCheck = document.querySelector('input[name="crisis-check"]:checked')?.value;
                    
                    // Als het een crisis is, ga direct naar het crisis advies
                    if (crisisCheck === 'ja') {
                        const inBehandeling = document.querySelector('input[name="in-behandeling"]:checked')?.value;
                        if (inBehandeling === 'ja') {
                            toonDirectCrisisAdvies('behandelaar');
                        } else {
                            toonDirectCrisisAdvies('crisisdienst');
                        }
                        return;
                    }
                    
                    // Verzamel alle waarden uit het formulier voor reguliere situaties
                    const leeftijd = document.querySelector('input[name="leeftijd"]:checked')?.value;
                    const duur = document.querySelector('input[name="duur"]:checked')?.value;
                    const ernst = document.querySelector('input[name="ernst"]:checked')?.value;
                    const problematiekCheckboxes = document.querySelectorAll('input[name="problematiek"]:checked');
                    const eerdereHulp = document.querySelector('input[name="eerdere-hulp"]:checked')?.value;
                    
                    // Verzamel de geselecteerde problematiek
                    const problematiek = Array.from(problematiekCheckboxes).map(cb => cb.value);
                    
                    // Bepaal het passende zorgtype op basis van de input
                    const zorgtype = bepaalZorgtype(leeftijd, duur, ernst, problematiek, eerdereHulp);
                    
                    // Genereer het advies
                    const advies = genereerAdvies(zorgtype, leeftijd, problematiek);
                    
                    // Toon het resultaat
                    triageAdvice.innerHTML = advies.tekst;
                    triageZorgtype.innerHTML = `<strong>Geadviseerd zorgtype:</strong> ${advies.titel}`;
                    triageZorgtype.className = `triage-zorgtype ${zorgtype}`;
                    
                    // Maak het resultaat zichtbaar
                    triageResult.style.display = 'block';
                    
                    // Verberg alle vragen
                    triageQuestions.forEach(question => {
                        question.style.display = 'none';
                    });
                    
                    // Scroll naar het resultaat
                    triageResult.scrollIntoView({ behavior: 'smooth' });
                });
            }
            
            // Reset button functionaliteit
            if (resetButton) {
                resetButton.addEventListener('click', function() {
                    // Reset het formulier
                    triageForm.reset();
                    
                    // Verwijder alle selected classes
                    document.querySelectorAll('.option-label').forEach(label => {
                        label.classList.remove('selected');
                    });
                    
                    // Verberg het resultaat
                    triageResult.style.display = 'none';
                    
                    // Verberg alle vragen behalve de eerste
                    triageQuestions.forEach((question, index) => {
                        question.style.display = index === 0 ? 'block' : 'none';
                    });
                    
                    // Scroll terug naar het begin van het formulier
                    document.getElementById('triage-section').scrollIntoView({ behavior: 'smooth' });
                });
            }
            
            // Toon passende instellingen button functionaliteit
            if (showInstellingenButton) {
                showInstellingenButton.addEventListener('click', function() {
                    const zorgtype = triageZorgtype.className.replace('triage-zorgtype ', '');
                    
                    // Bepaal het type voor de filter
                    let filterType;
                    switch(zorgtype) {
                        case 'okt':
                            filterType = 'okt';
                            break;
                        case 'basis':
                            filterType = 'basis';
                            break;
                        case 'gespecialiseerd':
                            filterType = 'gespecialiseerd';
                            break;
                        case 'hoogspecialistisch':
                            filterType = 'hoogspecialistisch';
                            break;
                        default:
                            filterType = '';
                    }
                    
                    // Stuur de gebruiker naar de kaartpagina met de juiste filter
                    window.location.href = `kaart.html?type=${filterType}`;
                });
            }
            
            // Functie om het zorgtype te bepalen op basis van de input
            function bepaalZorgtype(leeftijd, duur, ernst, problematiek, eerdereHulp) {
                // Scoringsysteem (hoger = intensievere zorg nodig)
                let score = 0;
                
                // Ernst van de klachten
                if (ernst === 'licht') score += 1;
                else if (ernst === 'matig') score += 2;
                else if (ernst === 'ernstig') score += 3;
                
                // Duur van de klachten
                if (duur === 'kort') score += 1;
                else if (duur === 'middel') score += 2;
                else if (duur === 'lang') score += 3;
                
                // Eerdere hulp
                if (eerdereHulp === 'nee') score += 0;
                else if (eerdereHulp === 'huisarts') score += 1;
                else if (eerdereHulp === 'okt') score += 2;
                else if (eerdereHulp === 'ggz') score += 3;
                
                // Complex/specifieke problematiek
                const complexeProblematiek = ['trauma', 'autisme', 'verslaving'];
                if (complexeProblematiek.some(p => problematiek.includes(p))) {
                    score += 2;
                }
                
                // Meerdere problemen
                if (problematiek.length >= 3) {
                    score += 2;
                }
                
                // Bepaal zorgtype op basis van score
                if (score <= 3) {
                    return 'okt'; // OKT / basis aanpak
                } else if (score <= 6) {
                    return 'basis'; // Basis GGZ
                } else if (score <= 9) {
                    return 'gespecialiseerd'; // Gespecialiseerde GGZ
                } else {
                    return 'hoogspecialistisch'; // Hoogspecialistische zorg
                }
            }
            
            // Functie om een advies te genereren op basis van het zorgtype
            function genereerAdvies(zorgtype, leeftijd, problematiek) {
                let advies = {};
                
                switch(zorgtype) {
                    case 'crisis':
                        advies.titel = 'Crisis interventie nodig';
                        advies.tekst = `
                            <p>Op basis van uw antwoorden lijkt er sprake te zijn van een crisissituatie waarbij direct hulp nodig is.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <ul>
                                <li>Neem bij direct gevaar contact op met 112</li>
                                <li>Neem contact op met de huisarts of huisartsenpost</li>
                                <li>Of bel de crisisdienst Jeugd: <a href="tel:0205904040">020 590 4040</a></li>
                            </ul>
                        `;
                        break;
                    case 'okt':
                        advies.titel = 'Ouder- en Kindteam (OKT)';
                        advies.tekst = `
                            <p>Op basis van uw antwoorden lijkt het Ouder- en Kindteam (OKT) het meest passend. Het OKT biedt laagdrempelige ondersteuning voor ouders en kinderen.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <ul>
                                <li>Neem contact op met het OKT in uw buurt. <a href="https://oktamsterdam.nl/contact/" target="_blank">Vind uw OKT</a></li>
                                <li>U kunt zonder verwijzing bij het OKT terecht</li>
                                <li>Het OKT kan indien nodig doorverwijzen naar meer specialistische zorg</li>
                            </ul>
                        `;
                        break;
                    case 'basis':
                        advies.titel = 'Basis GGZ';
                        advies.tekst = `
                            <p>Op basis van uw antwoorden lijkt de Basis GGZ het meest passend. De Basis GGZ biedt kortdurende behandeling voor lichte tot matige psychische klachten.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <ul>
                                <li>Maak een afspraak bij uw huisarts om uw zorgen te bespreken</li>
                                <li>Vraag uw huisarts om een verwijzing naar de Basis GGZ</li>
                                <li>U kunt ook contact opnemen met het Ouder- en Kindteam voor advies</li>
                            </ul>
                        `;
                        
                        // Voeg leeftijdsspecifiek advies toe
                        if (leeftijd === "0-4") {
                            advies.tekst += `
                                <p><strong>Specifiek voor jonge kinderen (0-4 jaar):</strong></p>
                                <ul>
                                    <li>Consultatiebureaus kunnen ook adviseren over de ontwikkeling van uw kind</li>
                                    <li>Zoek naar praktijken met expertise in jonge kinderen</li>
                                </ul>
                            `;
                        } else if (leeftijd === "18-23") {
                            advies.tekst += `
                                <p><strong>Specifiek voor jongvolwassenen (18-23 jaar):</strong></p>
                                <ul>
                                    <li>Let op: na 18 jaar valt de zorg onder de volwassenen-GGZ en gelden andere regels</li>
                                    <li>Controleer of uw verzekering de gekozen behandeling vergoedt</li>
                                </ul>
                            `;
                        }
                        
                        break;
                    case 'gespecialiseerd':
                        advies.titel = 'Gespecialiseerde GGZ';
                        advies.tekst = `
                            <p>Op basis van uw antwoorden lijkt de Gespecialiseerde GGZ het meest passend. De gespecialiseerde GGZ biedt intensievere behandeling voor complexere psychische problemen.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <ul>
                                <li>Maak een afspraak bij uw huisarts om uw zorgen te bespreken</li>
                                <li>Vraag uw huisarts om een verwijzing naar de Specialistische GGZ</li>
                                <li>Uw huisarts kan u helpen bij het vinden van de meest geschikte instelling</li>
                            </ul>
                        `;
                        
                        // Voeg probleemspecifiek advies toe
                        if (problematiek.includes('trauma')) {
                            advies.tekst += `
                                <p><strong>Specifiek voor traumaproblematiek:</strong></p>
                                <ul>
                                    <li>Zoek naar een instelling met expertise in traumabehandeling, zoals EMDR of traumagerichte CGT</li>
                                </ul>
                            `;
                        }
                        
                        if (problematiek.includes('autisme')) {
                            advies.tekst += `
                                <p><strong>Specifiek voor autisme:</strong></p>
                                <ul>
                                    <li>Zoek naar instellingen die zijn gespecialiseerd in autismespectrumstoornissen</li>
                                    <li>Informeer bij uw huisarts naar mogelijkheden voor diagnostiek en behandeling</li>
                                </ul>
                            `;
                        }
                        
                        break;
                    case 'hoogspecialistisch':
                        advies.titel = 'Hoogspecialistische Zorg';
                        advies.tekst = `
                            <p>Op basis van uw antwoorden lijkt Hoogspecialistische zorg het meest passend. Hoogspecialistische zorg is gericht op complexe problematiek en biedt gespecialiseerde behandelingen.</p>
                            <p><strong>Wat te doen:</strong></p>
                            <ul>
                                <li>Maak een afspraak bij uw huisarts om uw zorgen te bespreken</li>
                                <li>Vraag uw huisarts om een verwijzing naar Hoogspecialistische zorg</li>
                                <li>Mogelijk is er eerst een intake bij een reguliere GGZ-instelling nodig voordat u wordt doorverwezen</li>
                            </ul>
                            <p>Hoogspecialistische GGZ-instellingen in Amsterdam zijn onder andere het Levvel, De Bascule en het Centrum voor Kinder- en Jeugdpsychiatrie.</p>
                        `;
                        
                        // Als er meerdere problemen zijn, voeg extra informatie toe
                        if (problematiek.length >= 3) {
                            advies.tekst += `
                                <p><strong>Bij meervoudige problematiek:</strong></p>
                                <ul>
                                    <li>Zoek naar instellingen die een multidisciplinaire aanpak bieden</li>
                                    <li>Er kan een combinatie van behandelingen nodig zijn</li>
                                </ul>
                            `;
                        }
                        
                        break;
                }
                
                // Voeg extra informatie toe over wachttijden
                advies.tekst += `
                    <p><strong>Belangrijke informatie:</strong></p>
                    <ul>
                        <li>Er kunnen wachttijden zijn voor GGZ-zorg. Vraag bij aanmelding naar de verwachte wachttijd.</li>
                        <li>Neem bij verergering van klachten tijdens de wachttijd contact op met uw huisarts.</li>
                    </ul>
                `;
                
                return advies;
            }
        });
    </script>
</body>
</html>
